!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(self.webpackChunkjugendkompass=self.webpackChunkjugendkompass||[]).push([[6397],{26397:function(n,i,o){o.r(i),o.d(i,{ImpulsePageModule:function(){return M}});var s=o(38583),r=o(90665),a=o(88786),l=o(90928),c=o(64762),u=o(56818),d=o(66097),p=o(16380),m=o(69526),Z=o(10639),x=o(38605),g=o(49860),h=o(28676);function _(t,e){if(1&t){var n=Z.EpF();Z.TgZ(0,"ion-button",9),Z.NdJ("click",function(){return Z.CHM(n),Z.oxw().share()}),Z._UZ(1,"ion-icon",10),Z.qZA()}}function f(t,e){if(1&t&&Z._UZ(0,"img",17),2&t){var n=Z.oxw(2);Z.Q6J("src",n.impulse.base64Img?n.impulse.base64Img:n.impulse.postImg.source_url,Z.LSH)}}function k(t,e){if(1&t&&(Z.TgZ(0,"div"),Z.TgZ(1,"ion-card"),Z.TgZ(2,"div",11),Z.YNc(3,f,1,1,"img",12),Z.qZA(),Z.TgZ(4,"ion-card-content",13),Z.TgZ(5,"h2"),Z._uU(6),Z.qZA(),Z.TgZ(7,"ion-text"),Z.TgZ(8,"div",14),Z.TgZ(9,"p",15),Z._uU(10),Z.ALo(11,"date"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z._UZ(12,"div",16),Z.qZA()),2&t){var n=Z.oxw();Z.xp6(3),Z.Q6J("ngIf",n.impulse.postImg||n.impulse.base64Img),Z.xp6(3),Z.Oqu(n.impulse.title),Z.xp6(4),Z.hij(" ",Z.xi3(11,6,n.impulse.date,"dd.MM.yyyy")," "),Z.xp6(2),Z.Udp("font-size",n.textSize,"px"),Z.Q6J("innerHTML",n.impulse.content,Z.oJD)}}function v(t,e){1&t&&(Z.TgZ(0,"div"),Z.TgZ(1,"div",18),Z.TgZ(2,"p"),Z._UZ(3,"ion-skeleton-text",19),Z._UZ(4,"ion-skeleton-text",20),Z._UZ(5,"ion-skeleton-text",21),Z._UZ(6,"ion-skeleton-text",19),Z._UZ(7,"ion-skeleton-text",22),Z._UZ(8,"ion-skeleton-text",23),Z._UZ(9,"ion-skeleton-text",19),Z._UZ(10,"ion-skeleton-text",24),Z._UZ(11,"ion-skeleton-text",23),Z._UZ(12,"ion-skeleton-text",25),Z._UZ(13,"ion-skeleton-text",19),Z._UZ(14,"ion-skeleton-text",20),Z._UZ(15,"ion-skeleton-text",21),Z._UZ(16,"ion-skeleton-text",19),Z._UZ(17,"ion-skeleton-text",22),Z._UZ(18,"ion-skeleton-text",23),Z._UZ(19,"ion-skeleton-text",19),Z._UZ(20,"ion-skeleton-text",24),Z._UZ(21,"ion-skeleton-text",23),Z._UZ(22,"ion-skeleton-text",25),Z._UZ(23,"ion-skeleton-text",19),Z._UZ(24,"ion-skeleton-text",20),Z._UZ(25,"ion-skeleton-text",21),Z._UZ(26,"ion-skeleton-text",19),Z._UZ(27,"ion-skeleton-text",22),Z._UZ(28,"ion-skeleton-text",23),Z._UZ(29,"ion-skeleton-text",19),Z._UZ(30,"ion-skeleton-text",24),Z._UZ(31,"ion-skeleton-text",23),Z._UZ(32,"ion-skeleton-text",25),Z._UZ(33,"ion-skeleton-text",23),Z._UZ(34,"ion-skeleton-text",19),Z._UZ(35,"ion-skeleton-text",24),Z._UZ(36,"ion-skeleton-text",23),Z._UZ(37,"ion-skeleton-text",25),Z._UZ(38,"ion-skeleton-text",19),Z._UZ(39,"ion-skeleton-text",20),Z._UZ(40,"ion-skeleton-text",21),Z._UZ(41,"ion-skeleton-text",19),Z._UZ(42,"ion-skeleton-text",22),Z._UZ(43,"ion-skeleton-text",23),Z._UZ(44,"ion-skeleton-text",19),Z._UZ(45,"ion-skeleton-text",23),Z._UZ(46,"ion-skeleton-text",19),Z._UZ(47,"ion-skeleton-text",24),Z._UZ(48,"ion-skeleton-text",23),Z._UZ(49,"ion-skeleton-text",25),Z._UZ(50,"ion-skeleton-text",19),Z._UZ(51,"ion-skeleton-text",20),Z._UZ(52,"ion-skeleton-text",21),Z._UZ(53,"ion-skeleton-text",19),Z._UZ(54,"ion-skeleton-text",22),Z._UZ(55,"ion-skeleton-text",23),Z._UZ(56,"ion-skeleton-text",19),Z.qZA(),Z.qZA(),Z.qZA())}var U,b=[{path:"",component:(U=function(){function n(e,i,o,s,r){t(this,n),this.activatedRoute=e,this.photoViewer=i,this.storage=o,this.firebaseService=s,this.utils=r,this.textSize=15,this.isAdmin=!1,this.isApp=!0,this.online=!0,this.counter=0}var i,o,s;return i=n,(o=[{key:"ngOnInit",value:function(){var t,e,n,i,o=this;this.isApp=this.utils.isApp(),this.loadData(),this.firebaseService.subscribeToAdmin().subscribe(function(t){o.isAdmin=t}),(null===(e=null===(t=this.activatedRoute.snapshot)||void 0===t?void 0:t.paramMap)||void 0===e?void 0:e.get("id"))&&this.firebaseService.incrementImpulseViews(null===(i=null===(n=this.activatedRoute.snapshot)||void 0===n?void 0:n.paramMap)||void 0===i?void 0:i.get("id"))}},{key:"ionViewWillEnter",value:function(){var t=this;this.storage.get("text-size").then(function(e){t.textSize=e}),this.loadData(),this.intervalId=setInterval(function(){t.counter=t.counter+1},1e3)}},{key:"ionViewWillLeave",value:function(){this.firebaseService.incrementAnalyticsField(m.fg.IMPULSE_TIME,{duration:this.counter,impulseId:this.impulse.id,impulseTitle:this.impulse.title}),this.counter=0,clearInterval(this.intervalId)}},{key:"loadData",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.firebaseService.loadCategories();case 2:return e=this.activatedRoute.snapshot.paramMap.get("id"),t.next=5,this.firebaseService.getImpulse(e);case 5:this.impulse=t.sent,setTimeout(function(){for(var t=function(){var t=i[e];t.onclick=function(){n.photoViewer.show(t.src)}},e=0,i=Array.from(document.querySelectorAll("img"));e<i.length;e++)t()},200);case 7:case"end":return t.stop()}},t,this)}))}},{key:"share",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.m.share({title:"Impuls teilen",text:this.impulse.title,url:"https://jugendkompass.com/tabs/impulse/".concat(this.impulse.id),dialogTitle:"Impuls teilen"});case 2:case"end":return t.stop()}},t,this)}))}}])&&e(i.prototype,o),s&&e(i,s),n}(),U.\u0275fac=function(t){return new(t||U)(Z.Y36(l.gz),Z.Y36(u.h),Z.Y36(x.Ke),Z.Y36(d.O),Z.Y36(g.c))},U.\u0275cmp=Z.Xpm({type:U,selectors:[["app-impulse"]],decls:11,vars:5,consts:[[1,"ion-no-border"],["header",""],["slot","start"],["text","","defaultHref","/tabs/impulse"],["backButton",""],["slot","end"],[3,"click",4,"ngIf"],["fullscreen","true","scrollEvents","true","appHideHeader","",3,"header","isList"],[4,"ngIf"],[3,"click"],["slot","icon-only","name","share-outline"],[1,"img-wrapper"],["id","headerImage",3,"src",4,"ngIf"],[1,"ion-text-center"],[1,"ion-justify-content-center",2,"display","flex"],[1,"subTitle"],[1,"text","postContent",3,"innerHTML"],["id","headerImage",3,"src"],[1,"text"],["animated","",2,"width","100%"],["animated","",2,"width","70%"],["animated","",2,"width","80%"],["animated","",2,"width","60%"],["animated","",2,"width","40%"],["animated","",2,"width","50%"],["animated","",2,"width","10%"]],template:function(t,e){if(1&t&&(Z.TgZ(0,"ion-header",0,1),Z.TgZ(2,"ion-toolbar"),Z.TgZ(3,"ion-buttons",2),Z._UZ(4,"ion-back-button",3,4),Z.qZA(),Z.TgZ(6,"ion-buttons",5),Z.YNc(7,_,2,0,"ion-button",6),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(8,"ion-content",7),Z.YNc(9,k,13,9,"div",8),Z.YNc(10,v,57,0,"div",8),Z.qZA()),2&t){var n=Z.MAs(1);Z.xp6(7),Z.Q6J("ngIf",e.isApp),Z.xp6(1),Z.Q6J("header",n)("isList",!1),Z.xp6(1),Z.Q6J("ngIf",e.impulse),Z.xp6(1),Z.Q6J("ngIf",!e.impulse)}},directives:[a.Gu,a.sr,a.Sm,a.oU,a.cs,s.O5,a.W2,h.V,a.YG,a.gu,a.PM,a.FN,a.yW,a.CK],pipes:[s.uU],styles:["ion-content[_ngcontent-%COMP%]{--padding-bottom: 2.5rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{overflow:visible;margin:2.5rem 1rem 2rem;position:relative;padding-top:60px}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding-bottom:1rem;padding-top:1.8rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{background:var(--ion-color-dark-contrast);width:6rem;height:6rem;position:absolute;left:50%;top:-30px;transform:translate(-50%);box-shadow:#0000001f 0 4px 16px;border-radius:10px}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;width:6rem;height:6rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{padding-top:.3rem}ion-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:0 1rem}"]}),U)}],w=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[l.Bz.forChild(b)],l.Bz]}),e}(),A=o(88665),M=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Z.oAB({type:e}),e.\u0275inj=Z.cJS({imports:[[s.ez,r.u5,a.Pc,A.U,w]]}),e}()}}])}();