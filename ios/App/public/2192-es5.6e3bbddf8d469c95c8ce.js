!function(){"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(self.webpackChunkjugendkompass=self.webpackChunkjugendkompass||[]).push([[2192],{52192:function(t,r,i){i.r(r),i.d(r,{KeysPageModule:function(){return b}});var o=i(38583),u=i(90665),a=i(94490),s=i(9451),c=i(64762),l=i(8078),f=i(33018),h=i(49860);function p(e,n){if(1&e&&(f.TgZ(0,"h2"),f._uU(1),f.qZA()),2&e){var t=f.oxw().$implicit;f.xp6(1),f.hij(" Benutzt: 0 | Verf\xfcgbar: ",t.remainingKeyCount," ")}}function d(e,n){if(1&e&&(f.TgZ(0,"h2"),f._uU(1),f.qZA()),2&e){var t=f.oxw().$implicit;f.xp6(1),f.AsE(" Benutzt: ",t.usedKeys," | Verf\xfcgbar: ",t.remainingKeyCount," ")}}function g(e,n){if(1&e){var t=f.EpF();f.TgZ(0,"ion-item",4),f.NdJ("click",function(){var e=f.CHM(t).$implicit;return f.oxw().openUpdateSheet(e)}),f.TgZ(1,"ion-label"),f.TgZ(2,"h2"),f._uU(3),f.qZA(),f.YNc(4,p,2,1,"h2",6),f.YNc(5,d,2,2,"h2",6),f.qZA(),f.qZA()}if(2&e){var r=n.$implicit;f.xp6(3),f.Oqu(r.value),f.xp6(1),f.Q6J("ngIf",!r.usedKeys),f.xp6(1),f.Q6J("ngIf",r.usedKeys)}}var m,v=[{path:"",component:(m=function(){function t(n,r,i,o){e(this,t),this.firebaseService=n,this.alertController=r,this.actionSheetController=i,this.utils=o}var r,i,o;return r=t,(i=[{key:"ngOnInit",value:function(){this.keys$=this.firebaseService.getKeys()}},{key:"openCreateAlert",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({message:"Key hinzuf\xfcgen",inputs:[{placeholder:"Key",name:"key",type:"text"},{placeholder:"Anzahl",name:"count",type:"number",min:1,max:9999}],buttons:[{text:"Abbrechen"},{text:"Hinzuf\xfcgen",handler:function(e){n.firebaseService.addKey({value:e.key,usedKeys:0,remainingKeyCount:parseInt(e.count,10)}).then(function(){n.utils.showToast("Key erfolgreich hinzugef\xfcgt","success")}).catch(function(){n.utils.showToast("Fehler beim hinzuf\xfcgen, probiere es erneut")})}}]});case 2:return e.next=4,e.sent.present();case 4:case"end":return e.stop()}},e,this)}))}},{key:"openUpdateSheet",value:function(e){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.actionSheetController.create({header:"W\xe4hle eine Anzahl",buttons:[{text:"5",handler:function(){t.updateKey(e.value,e.remainingKeyCount+5)}},{text:"10",handler:function(){t.updateKey(e.value,e.remainingKeyCount+10)}},{text:"35",handler:function(){t.updateKey(e.value,e.remainingKeyCount+35)}},{text:"Andere...",handler:function(){t.openInputAlert(e)}},{text:"Abbrechen"}]});case 2:return n.next=4,n.sent.present();case 4:case"end":return n.stop()}},n,this)}))}},{key:"openInputAlert",value:function(e){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({message:"Gib eine Anzahl an",inputs:[{placeholder:"Anzahl",name:"count",type:"number",min:1,max:9999}],buttons:[{text:"Abbrechen"},{text:"Hinzuf\xfcgen",handler:function(n){t.updateKey(e.value,e.remainingKeyCount+parseInt(n.count))}}]});case 2:return n.next=4,n.sent.present();case 4:case"end":return n.stop()}},n,this)}))}},{key:"updateKey",value:function(e,n){var t=this;this.firebaseService.updateKey({count:n,value:e}).then(function(){t.utils.showToast("Key erfolgreich geupdated","success")}).catch(function(){t.utils.showToast("Fehler beim updaten, probiere es erneut")})}}])&&n(r.prototype,i),o&&n(r,o),t}(),m.\u0275fac=function(e){return new(e||m)(f.Y36(l.O),f.Y36(a.Br),f.Y36(a.BX),f.Y36(h.c))},m.\u0275cmp=f.Xpm({type:m,selectors:[["app-keys"]],decls:13,vars:3,consts:[["slot","start"],["text","","defaultHref","/tabs/settings"],[3,"click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add"],[4,"ngIf"]],template:function(e,n){1&e&&(f.TgZ(0,"ion-header"),f.TgZ(1,"ion-toolbar"),f.TgZ(2,"ion-buttons",0),f._UZ(3,"ion-back-button",1),f.qZA(),f.TgZ(4,"ion-title"),f._uU(5,"Keyverwaltung"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(6,"ion-content"),f.TgZ(7,"ion-list"),f.YNc(8,g,6,3,"ion-item",2),f.ALo(9,"async"),f.qZA(),f.TgZ(10,"ion-fab",3),f.TgZ(11,"ion-fab-button",4),f.NdJ("click",function(){return n.openCreateAlert()}),f._UZ(12,"ion-icon",5),f.qZA(),f.qZA(),f.qZA()),2&e&&(f.xp6(8),f.Q6J("ngForOf",f.lcZ(9,1,n.keys$)))},directives:[a.Gu,a.sr,a.Sm,a.oU,a.cs,a.wd,a.W2,a.q_,o.sg,a.IJ,a.W4,a.gu,a.Ie,a.Q$,o.O5],pipes:[o.Ov],styles:[""]}),m)}],y=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[s.Bz.forChild(v)],s.Bz]}),n}(),b=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[o.ez,u.u5,a.Pc,y]]}),n}()}}])}();