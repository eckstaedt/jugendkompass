!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(self.webpackChunkjugendkompass=self.webpackChunkjugendkompass||[]).push([[6397],{26397:function(n,i,o){o.r(i),o.d(i,{ImpulsePageModule:function(){return T}});var s=o(38583),r=o(90665),a=o(94490),l=o(9451),c=o(64762),u=o(56818),d=o(8078),p=o(68442),m=o(69526),g=o(33018),h=o(38605),Z=o(49860),x=o(28676);function f(t,e){if(1&t){var n=g.EpF();g.TgZ(0,"ion-button",9),g.NdJ("click",function(){return g.CHM(n),g.oxw().share()}),g._UZ(1,"ion-icon",10),g.qZA()}}function k(t,e){if(1&t&&g._UZ(0,"img",17),2&t){var n=g.oxw(2);g.Q6J("src",n.impulse.base64Img?n.impulse.base64Img:n.impulse.postImg.source_url,g.LSH)}}function _(t,e){if(1&t&&(g.TgZ(0,"div"),g.TgZ(1,"ion-card"),g.TgZ(2,"div",11),g.YNc(3,k,1,1,"img",12),g.qZA(),g.TgZ(4,"ion-card-content",13),g.TgZ(5,"h2"),g._uU(6),g.qZA(),g.TgZ(7,"ion-text"),g.TgZ(8,"div",14),g.TgZ(9,"p",15),g._uU(10),g.ALo(11,"date"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g._UZ(12,"div",16),g.qZA()),2&t){var n=g.oxw();g.xp6(3),g.Q6J("ngIf",n.impulse.postImg||n.impulse.base64Img),g.xp6(3),g.Oqu(n.impulse.title),g.xp6(4),g.hij(" ",g.xi3(11,6,n.impulse.date,"dd.MM.yyyy")," "),g.xp6(2),g.Udp("font-size",n.textSize,"px"),g.Q6J("innerHTML",n.impulse.content,g.oJD)}}function v(t,e){1&t&&(g.TgZ(0,"div"),g.TgZ(1,"div",18),g.TgZ(2,"p"),g._UZ(3,"ion-skeleton-text",19),g._UZ(4,"ion-skeleton-text",20),g._UZ(5,"ion-skeleton-text",21),g._UZ(6,"ion-skeleton-text",19),g._UZ(7,"ion-skeleton-text",22),g._UZ(8,"ion-skeleton-text",23),g._UZ(9,"ion-skeleton-text",19),g._UZ(10,"ion-skeleton-text",24),g._UZ(11,"ion-skeleton-text",23),g._UZ(12,"ion-skeleton-text",25),g._UZ(13,"ion-skeleton-text",19),g._UZ(14,"ion-skeleton-text",20),g._UZ(15,"ion-skeleton-text",21),g._UZ(16,"ion-skeleton-text",19),g._UZ(17,"ion-skeleton-text",22),g._UZ(18,"ion-skeleton-text",23),g._UZ(19,"ion-skeleton-text",19),g._UZ(20,"ion-skeleton-text",24),g._UZ(21,"ion-skeleton-text",23),g._UZ(22,"ion-skeleton-text",25),g._UZ(23,"ion-skeleton-text",19),g._UZ(24,"ion-skeleton-text",20),g._UZ(25,"ion-skeleton-text",21),g._UZ(26,"ion-skeleton-text",19),g._UZ(27,"ion-skeleton-text",22),g._UZ(28,"ion-skeleton-text",23),g._UZ(29,"ion-skeleton-text",19),g._UZ(30,"ion-skeleton-text",24),g._UZ(31,"ion-skeleton-text",23),g._UZ(32,"ion-skeleton-text",25),g._UZ(33,"ion-skeleton-text",23),g._UZ(34,"ion-skeleton-text",19),g._UZ(35,"ion-skeleton-text",24),g._UZ(36,"ion-skeleton-text",23),g._UZ(37,"ion-skeleton-text",25),g._UZ(38,"ion-skeleton-text",19),g._UZ(39,"ion-skeleton-text",20),g._UZ(40,"ion-skeleton-text",21),g._UZ(41,"ion-skeleton-text",19),g._UZ(42,"ion-skeleton-text",22),g._UZ(43,"ion-skeleton-text",23),g._UZ(44,"ion-skeleton-text",19),g._UZ(45,"ion-skeleton-text",23),g._UZ(46,"ion-skeleton-text",19),g._UZ(47,"ion-skeleton-text",24),g._UZ(48,"ion-skeleton-text",23),g._UZ(49,"ion-skeleton-text",25),g._UZ(50,"ion-skeleton-text",19),g._UZ(51,"ion-skeleton-text",20),g._UZ(52,"ion-skeleton-text",21),g._UZ(53,"ion-skeleton-text",19),g._UZ(54,"ion-skeleton-text",22),g._UZ(55,"ion-skeleton-text",23),g._UZ(56,"ion-skeleton-text",19),g.qZA(),g.qZA(),g.qZA())}var U,b=p.Vn,w=b.Network,A=b.Share,M=[{path:"",component:(U=function(){function n(e,i,o,s,r){t(this,n),this.activatedRoute=e,this.photoViewer=i,this.storage=o,this.firebaseService=s,this.utils=r,this.textSize=15,this.isAdmin=!1,this.isApp=!0,this.online=!0,this.counter=0}var i,o,s;return i=n,(o=[{key:"ngOnInit",value:function(){var t,e,n,i,o=this;this.isApp=this.utils.isApp(),this.isApp&&w.addListener("networkStatusChange",function(t){o.online=t.connected}),this.loadData(),this.firebaseService.subscribeToAdmin().subscribe(function(t){o.isAdmin=t}),(null===(e=null===(t=this.activatedRoute.snapshot)||void 0===t?void 0:t.paramMap)||void 0===e?void 0:e.get("id"))&&this.firebaseService.incrementImpulseViews(null===(i=null===(n=this.activatedRoute.snapshot)||void 0===n?void 0:n.paramMap)||void 0===i?void 0:i.get("id"))}},{key:"ionViewWillEnter",value:function(){var t=this;this.storage.get("text-size").then(function(e){t.textSize=e}),this.loadData(),this.intervalId=setInterval(function(){t.counter=t.counter+1},1e3)}},{key:"ionViewWillLeave",value:function(){this.firebaseService.incrementAnalyticsField(m.fg.IMPULSE_TIME,{duration:this.counter,impulseId:this.impulse.id,impulseTitle:this.impulse.title}),this.counter=0,clearInterval(this.intervalId)}},{key:"loadData",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.firebaseService.loadCategories();case 2:return e=this.activatedRoute.snapshot.paramMap.get("id"),t.next=5,this.firebaseService.getImpulse(e);case 5:this.impulse=t.sent,setTimeout(function(){for(var t=function(){var t=i[e];t.onclick=function(){n.photoViewer.show(t.src)}},e=0,i=Array.from(document.querySelectorAll("img"));e<i.length;e++)t()},200);case 7:case"end":return t.stop()}},t,this)}))}},{key:"share",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.share({title:'Kennst du schon den Impuls "'.concat(this.impulse.title,'" aus dem Jugendkompass?'),text:'Wirf jetzt einen Blick auf den Impuls "'.concat(this.impulse.title,'" der Jugendkompass-Zeitschrift:'),url:"https://jugendkompass.com/tabs/impulse/".concat(this.impulse.id),dialogTitle:"Impuls teilen"});case 2:case"end":return t.stop()}},t,this)}))}}])&&e(i.prototype,o),s&&e(i,s),n}(),U.\u0275fac=function(t){return new(t||U)(g.Y36(l.gz),g.Y36(u.h),g.Y36(h.Ke),g.Y36(d.O),g.Y36(Z.c))},U.\u0275cmp=g.Xpm({type:U,selectors:[["app-impulse"]],decls:11,vars:5,consts:[[1,"ion-no-border"],["header",""],["slot","start"],["text","","defaultHref","/tabs/impulse"],["backButton",""],["slot","end"],[3,"click",4,"ngIf"],["fullscreen","true","scrollEvents","true","appHideHeader","",3,"header","isList"],[4,"ngIf"],[3,"click"],["slot","icon-only","name","share-outline"],[1,"img-wrapper"],["id","headerImage",3,"src",4,"ngIf"],[1,"ion-text-center"],[1,"ion-justify-content-center",2,"display","flex"],[1,"subTitle"],[1,"text","postContent",3,"innerHTML"],["id","headerImage",3,"src"],[1,"text"],["animated","",2,"width","100%"],["animated","",2,"width","70%"],["animated","",2,"width","80%"],["animated","",2,"width","60%"],["animated","",2,"width","40%"],["animated","",2,"width","50%"],["animated","",2,"width","10%"]],template:function(t,e){if(1&t&&(g.TgZ(0,"ion-header",0,1),g.TgZ(2,"ion-toolbar"),g.TgZ(3,"ion-buttons",2),g._UZ(4,"ion-back-button",3,4),g.qZA(),g.TgZ(6,"ion-buttons",5),g.YNc(7,f,2,0,"ion-button",6),g.qZA(),g.qZA(),g.qZA(),g.TgZ(8,"ion-content",7),g.YNc(9,_,13,9,"div",8),g.YNc(10,v,57,0,"div",8),g.qZA()),2&t){var n=g.MAs(1);g.xp6(7),g.Q6J("ngIf",e.isApp),g.xp6(1),g.Q6J("header",n)("isList",!1),g.xp6(1),g.Q6J("ngIf",e.impulse),g.xp6(1),g.Q6J("ngIf",!e.impulse)}},directives:[a.Gu,a.sr,a.Sm,a.oU,a.cs,s.O5,a.W2,x.V,a.YG,a.gu,a.PM,a.FN,a.yW,a.CK],pipes:[s.uU],styles:["ion-content[_ngcontent-%COMP%]{--padding-bottom: 2.5rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{overflow:visible;margin:2.5rem 1rem 2rem;position:relative;padding-top:60px}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding-bottom:1rem;padding-top:1.8rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{background:var(--ion-color-dark-contrast);width:6rem;height:6rem;position:absolute;left:50%;top:-30px;transform:translate(-50%);box-shadow:#0000001f 0 4px 16px;border-radius:10px}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;width:6rem;height:6rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{padding-top:.3rem}ion-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:0 1rem}"]}),U)}],I=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[l.Bz.forChild(M)],l.Bz]}),e}(),C=o(88665),T=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[s.ez,r.u5,a.Pc,C.U,I]]}),e}()}}])}();