"use strict";(self.webpackChunkjugendkompass=self.webpackChunkjugendkompass||[]).push([[6397],{26397:function(t,e,n){n.r(e),n.d(e,{ImpulsePageModule:function(){return M}});var i=n(38583),o=n(90665),s=n(94490),l=n(9451),r=n(64762),a=n(56818),c=n(8078),d=n(68442),p=n(69526),u=n(33018),m=n(38605),Z=n(49860),g=n(28676);function h(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"ion-button",9),u.NdJ("click",function(){return u.CHM(t),u.oxw().share()}),u._UZ(1,"ion-icon",10),u.qZA()}}function x(t,e){if(1&t&&u._UZ(0,"img",17),2&t){const t=u.oxw(2);u.Q6J("src",t.impulse.base64Img?t.impulse.base64Img:t.impulse.postImg.source_url,u.LSH)}}function _(t,e){if(1&t&&(u.TgZ(0,"div"),u.TgZ(1,"ion-card"),u.TgZ(2,"div",11),u.YNc(3,x,1,1,"img",12),u.qZA(),u.TgZ(4,"ion-card-content",13),u.TgZ(5,"h2"),u._uU(6),u.qZA(),u.TgZ(7,"ion-text"),u.TgZ(8,"div",14),u.TgZ(9,"p",15),u._uU(10),u.ALo(11,"date"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(12,"div",16),u.qZA()),2&t){const t=u.oxw();u.xp6(3),u.Q6J("ngIf",t.impulse.postImg||t.impulse.base64Img),u.xp6(3),u.Oqu(t.impulse.title),u.xp6(4),u.hij(" ",u.xi3(11,6,t.impulse.date,"dd.MM.yyyy")," "),u.xp6(2),u.Udp("font-size",t.textSize,"px"),u.Q6J("innerHTML",t.impulse.content,u.oJD)}}function k(t,e){1&t&&(u.TgZ(0,"div"),u.TgZ(1,"div",18),u.TgZ(2,"p"),u._UZ(3,"ion-skeleton-text",19),u._UZ(4,"ion-skeleton-text",20),u._UZ(5,"ion-skeleton-text",21),u._UZ(6,"ion-skeleton-text",19),u._UZ(7,"ion-skeleton-text",22),u._UZ(8,"ion-skeleton-text",23),u._UZ(9,"ion-skeleton-text",19),u._UZ(10,"ion-skeleton-text",24),u._UZ(11,"ion-skeleton-text",23),u._UZ(12,"ion-skeleton-text",25),u._UZ(13,"ion-skeleton-text",19),u._UZ(14,"ion-skeleton-text",20),u._UZ(15,"ion-skeleton-text",21),u._UZ(16,"ion-skeleton-text",19),u._UZ(17,"ion-skeleton-text",22),u._UZ(18,"ion-skeleton-text",23),u._UZ(19,"ion-skeleton-text",19),u._UZ(20,"ion-skeleton-text",24),u._UZ(21,"ion-skeleton-text",23),u._UZ(22,"ion-skeleton-text",25),u._UZ(23,"ion-skeleton-text",19),u._UZ(24,"ion-skeleton-text",20),u._UZ(25,"ion-skeleton-text",21),u._UZ(26,"ion-skeleton-text",19),u._UZ(27,"ion-skeleton-text",22),u._UZ(28,"ion-skeleton-text",23),u._UZ(29,"ion-skeleton-text",19),u._UZ(30,"ion-skeleton-text",24),u._UZ(31,"ion-skeleton-text",23),u._UZ(32,"ion-skeleton-text",25),u._UZ(33,"ion-skeleton-text",23),u._UZ(34,"ion-skeleton-text",19),u._UZ(35,"ion-skeleton-text",24),u._UZ(36,"ion-skeleton-text",23),u._UZ(37,"ion-skeleton-text",25),u._UZ(38,"ion-skeleton-text",19),u._UZ(39,"ion-skeleton-text",20),u._UZ(40,"ion-skeleton-text",21),u._UZ(41,"ion-skeleton-text",19),u._UZ(42,"ion-skeleton-text",22),u._UZ(43,"ion-skeleton-text",23),u._UZ(44,"ion-skeleton-text",19),u._UZ(45,"ion-skeleton-text",23),u._UZ(46,"ion-skeleton-text",19),u._UZ(47,"ion-skeleton-text",24),u._UZ(48,"ion-skeleton-text",23),u._UZ(49,"ion-skeleton-text",25),u._UZ(50,"ion-skeleton-text",19),u._UZ(51,"ion-skeleton-text",20),u._UZ(52,"ion-skeleton-text",21),u._UZ(53,"ion-skeleton-text",19),u._UZ(54,"ion-skeleton-text",22),u._UZ(55,"ion-skeleton-text",23),u._UZ(56,"ion-skeleton-text",19),u.qZA(),u.qZA(),u.qZA())}const{Network:U,Share:f}=d.Vn,v=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o){this.activatedRoute=t,this.photoViewer=e,this.storage=n,this.firebaseService=i,this.utils=o,this.textSize=15,this.isAdmin=!1,this.isApp=!0,this.online=!0,this.counter=0}ngOnInit(){var t,e,n,i;this.isApp=this.utils.isApp(),this.isApp&&U.addListener("networkStatusChange",t=>{this.online=t.connected}),this.loadData(),this.firebaseService.subscribeToAdmin().subscribe(t=>{this.isAdmin=t}),(null===(e=null===(t=this.activatedRoute.snapshot)||void 0===t?void 0:t.paramMap)||void 0===e?void 0:e.get("id"))&&this.firebaseService.incrementImpulseViews(null===(i=null===(n=this.activatedRoute.snapshot)||void 0===n?void 0:n.paramMap)||void 0===i?void 0:i.get("id"))}ionViewWillEnter(){this.storage.get("text-size").then(t=>{this.textSize=t}),this.loadData(),this.intervalId=setInterval(()=>{this.counter=this.counter+1},1e3)}ionViewWillLeave(){this.firebaseService.incrementAnalyticsField(p.fg.IMPULSE_TIME,{duration:this.counter,impulseId:this.impulse.id,impulseTitle:this.impulse.title}),this.counter=0,clearInterval(this.intervalId)}loadData(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.firebaseService.loadCategories();const t=this.activatedRoute.snapshot.paramMap.get("id");this.impulse=yield this.firebaseService.getImpulse(t),setTimeout(()=>{for(const t of Array.from(document.querySelectorAll("img")))t.onclick=()=>{this.photoViewer.show(t.src)}},200)})}share(){return(0,r.mG)(this,void 0,void 0,function*(){yield f.share({title:`Kennst du schon den Impuls "${this.impulse.title}" aus dem Jugendkompass?`,text:`Wirf jetzt einen Blick auf den Impuls "${this.impulse.title}" der Jugendkompass-Zeitschrift:`,url:`https://jugendkompass.com/tabs/impulse/${this.impulse.id}`,dialogTitle:"Impuls teilen"})})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(l.gz),u.Y36(a.h),u.Y36(m.Ke),u.Y36(c.O),u.Y36(Z.c))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-impulse"]],decls:11,vars:5,consts:[[1,"ion-no-border"],["header",""],["slot","start"],["text","","defaultHref","/tabs/impulse"],["backButton",""],["slot","end"],[3,"click",4,"ngIf"],["fullscreen","true","scrollEvents","true","appHideHeader","",3,"header","isList"],[4,"ngIf"],[3,"click"],["slot","icon-only","name","share-outline"],[1,"img-wrapper"],["id","headerImage",3,"src",4,"ngIf"],[1,"ion-text-center"],[1,"ion-justify-content-center",2,"display","flex"],[1,"subTitle"],[1,"text","postContent",3,"innerHTML"],["id","headerImage",3,"src"],[1,"text"],["animated","",2,"width","100%"],["animated","",2,"width","70%"],["animated","",2,"width","80%"],["animated","",2,"width","60%"],["animated","",2,"width","40%"],["animated","",2,"width","50%"],["animated","",2,"width","10%"]],template:function(t,e){if(1&t&&(u.TgZ(0,"ion-header",0,1),u.TgZ(2,"ion-toolbar"),u.TgZ(3,"ion-buttons",2),u._UZ(4,"ion-back-button",3,4),u.qZA(),u.TgZ(6,"ion-buttons",5),u.YNc(7,h,2,0,"ion-button",6),u.qZA(),u.qZA(),u.qZA(),u.TgZ(8,"ion-content",7),u.YNc(9,_,13,9,"div",8),u.YNc(10,k,57,0,"div",8),u.qZA()),2&t){const t=u.MAs(1);u.xp6(7),u.Q6J("ngIf",e.isApp),u.xp6(1),u.Q6J("header",t)("isList",!1),u.xp6(1),u.Q6J("ngIf",e.impulse),u.xp6(1),u.Q6J("ngIf",!e.impulse)}},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,i.O5,s.W2,g.V,s.YG,s.gu,s.PM,s.FN,s.yW,s.CK],pipes:[i.uU],styles:["ion-content[_ngcontent-%COMP%]{--padding-bottom: 2.5rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{overflow:visible;margin:2.5rem 1rem 2rem;position:relative;padding-top:60px}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding-bottom:1rem;padding-top:1.8rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{background:var(--ion-color-dark-contrast);width:6rem;height:6rem;position:absolute;left:50%;top:-30px;transform:translate(-50%);box-shadow:#0000001f 0 4px 16px;border-radius:10px}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px;width:6rem;height:6rem}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{padding-top:.3rem}ion-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:0 1rem}"]}),t})()}];let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[l.Bz.forChild(v)],l.Bz]}),t})();var A=n(88665);let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[i.ez,o.u5,s.Pc,A.U,b]]}),t})()}}]);